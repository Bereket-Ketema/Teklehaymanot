<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Delete News</title>
  <link rel="stylesheet" href="css/news-delete.css" />
</head>
<body>
  <div class="container">
    <h2>🗑️ Delete News</h2>
    <ul id="newsList" class="news-list"></ul>
  </div>

  <script>
    fetch('/news')
      .then(res => res.json())
      .then(data => {
        const list = document.getElementById('newsList');
        data.forEach(news => {
          const li = document.createElement('li');
          li.innerHTML = `
            <div class="news-row">
              <span>${news.title}</span>
              <button onclick="deleteNews(${news.id})">Delete</button>
            </div>
          `;
          list.appendChild(li);
        });
      });

    function deleteNews(id) {
      if (confirm("Are you sure you want to delete this news?")) {
        fetch(`/news/${id}`, { method: 'DELETE' })
          .then(res => res.text())
          .then(msg => {
            alert(msg);
            location.reload();
          });
      }
    }
  </script>
</body>
</html>
